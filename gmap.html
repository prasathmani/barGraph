<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Google Map</title>

<style>
#draw-map {
	margin: 0;
	padding: 0;
	height: 500px;
	max-width: none;
}
#draw-map img {
	max-width: none !important;
}
.info-window--box {
	display: flex;
}
.box-left {
    float: left;
}
.box-left img.small {
    width: 52px;
    height: 52px;
}
.box-left img.medium {
    width: 102px;
    height: 102px;
}
.box-left img.large {
    width: 152px;
    height: 152px;
}
.box-right {
    float: right;
    margin-left: 15px;
}

.info-window-template, .map-directions {
    display: none;
}

</style>
</head>
<body>

<div class="google-map">
    <div class="info-window-template" data-lat="56.423515" data-lag="36.114622">
        <div class="info-window--box">
            <div class="box-left">
                <img src="//jagannathpurihkm.files.wordpress.com/2017/07/trees1.jpg" alt="title" class="large">
            </div>
            <div class="box-right">
                <strong>Verkhne-Tazovskiy Gosudarstvennyy Prirodnyy Zapovednik</strong>
                <p class="desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod.</p>
                <p><a href="https://www.google.com/maps/dir/56.423515,36.114622" target="_blank">Get Directions</a> </p>
            </div>
        </div>
    </div>


    <div class="info-window-template" data-lat="-33.965502" data-lag="150.533016">
        <div class="info-window--box">
        <div class="box-left">
        <img src="//www.newhdwallpapers.in/wp-content/uploads/2017/06/Australia-Forest-Sherbrooke-Victoria-Trees.jpg" alt="title" class="medium">
        </div>
        <div class="box-right">
        <strong>Burragorang</strong>
        <p class="desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod.</p>
        <p><a href="https://www.google.com/maps/dir/-33.965502,150.533016" target="_blank">Get Directions</a> </p>
        </div>
        </div>
    </div>


    <div class="draw-map" id="draw-map"></div>

</div>

<br>
<hr>
<br>

<div class="google-map">
    <div class="info-window-template" data-lat="18.993357" data-lag="-89.586933">
        <div class="info-window--box">
            <div class="box-left">
                <img src="//jagannathpurihkm.files.wordpress.com/2017/07/trees1.jpg" alt="title" class="large">
            </div>
            <div class="box-right">
                <strong>Reserva da la Biosfera Calakmul</strong>
                <p class="desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod.</p>
                <p><a href="https://www.google.com/maps/dir/18.993357,-89.586933" target="_blank">Get Directions</a> </p>
            </div>
        </div>
    </div>

    <div class="info-window-template" data-lat="17.455220" data-lag="-89.935566">
        <div class="info-window--box">
            <div class="box-left">
                <img src="//jagannathpurihkm.files.wordpress.com/2017/07/trees1.jpg" alt="title" class="large">
            </div>
            <div class="box-right">
                <strong>Reserva de Biosfera Maya</strong>
                <p class="desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod.</p>
                <p><a href="https://www.google.com/maps/dir/17.455220,-89.935566" target="_blank">Get Directions</a> </p>
            </div>
        </div>
    </div>

    <div class="info-window-template" data-lat="16.892614" data-lag="-91.363669">
        <div class="info-window--box">
            <div class="box-left">
                <img src="//jagannathpurihkm.files.wordpress.com/2017/07/trees1.jpg" alt="title" class="large">
            </div>
            <div class="box-right">
                <strong>Parque Natural Montes Azules</strong>
                <p class="desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod.</p>
                <p><a href="https://www.google.com/maps/dir/16.892614,-91.363669" target="_blank">Get Directions</a> </p>
            </div>
        </div>
    </div>

    <div class="draw-map" id="draw-map"></div>

</div>

<br>
<hr>
<br>

<!--<div class="google-map">-->
    <!--<div class="info-window-template" data-lat="-33.041744" data-lag="150.913610">-->
        <!--<div class="info-window&#45;&#45;box">-->
            <!--<div class="box-left">-->
                <!--<img src="//www.newhdwallpapers.in/wp-content/uploads/2017/06/Australia-Forest-Sherbrooke-Victoria-Trees.jpg" alt="title" class="medium">-->
            <!--</div>-->
            <!--<div class="box-right">-->
                <!--<strong>Yengo National Park</strong>-->
                <!--<p class="desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod.</p>-->
                <!--<p><a href="https://www.google.com/maps/dir/-33.041744,150.913610" target="_blank">Get Directions</a> </p>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->

    <!--<div class="info-window-template" data-lat="-33.971197" data-lag="150.129268">-->
        <!--<div class="info-window&#45;&#45;box">-->
            <!--<div class="box-left">-->
                <!--<img src="//www.newhdwallpapers.in/wp-content/uploads/2017/06/Australia-Forest-Sherbrooke-Victoria-Trees.jpg" alt="title" class="medium">-->
            <!--</div>-->
            <!--<div class="box-right">-->
                <!--<strong>Reserva de Biosfera Maya</strong>-->
                <!--<p class="desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod.</p>-->
                <!--<p><a href="https://www.google.com/maps/dir/-33.971197,150.129268" target="_blank">Get Directions</a> </p>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->

    <!--<div class="info-window-template" data-lat="-33.965502" data-lag="150.533016">-->
        <!--<div class="info-window&#45;&#45;box">-->
            <!--<div class="box-left">-->
                <!--<img src="//www.newhdwallpapers.in/wp-content/uploads/2017/06/Australia-Forest-Sherbrooke-Victoria-Trees.jpg" alt="title" class="medium">-->
            <!--</div>-->
            <!--<div class="box-right">-->
                <!--<strong>Burragorang</strong>-->
                <!--<p class="desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod.</p>-->
                <!--<p><a href="https://www.google.com/maps/dir/-33.965502,150.533016" target="_blank">Get Directions</a> </p>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->

    <!--<div class="draw-map" id="draw-map"></div>-->

<!--</div>-->


  <script src="//maps.googleapis.com/maps/api/js?key=AIzaSyDRL_xJqGkwWPG0cg4wrCV9u6CO6H7jheI"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  
  <script>
  function initMap($target, locationList) {
      var map = new google.maps.Map($target[0], {
          zoom: 7,
          center: {lat: 18.2, lng: -89.5},
      });

     setMarkers(map, locationList);
  }

  function setMarkers(map, locations) {
      // Adds markers to the map.

      // Marker sizes are expressed as a Size of X,Y where the origin of the image
      // (0,0) is located in the top left of the image.

      // Origins, anchor positions and coordinates of the marker increase in the X
      // direction to the right and in the Y direction down.
      var image = {
          url: 'http://maps.google.com/mapfiles/kml/pal2/icon12.png',
          // This marker is 20 pixels wide by 32 pixels high.
          size: new google.maps.Size(32, 32),
          // The origin for this image is (0, 0).
          origin: new google.maps.Point(0, 0),
          // The anchor for this image is the base of the flagpole at (0, 32).
          anchor: new google.maps.Point(32, 32)
      };

      var iwindow = new google.maps.InfoWindow({
          maxWidth: 350
      });

      // instantiate the bounds object
      var bounds = new google.maps.LatLngBounds();
      var bermudaTriangleCoords = [];

      for (var i = 0; i < locations.length; i++) {
          (function(marker) {
              var marker = new google.maps.Marker({
                  animation: google.maps.Animation.DROP,
                  icon: image,
                  map: map,
                  template: marker[2],
                  zIndex: 1,
                  position: {lat: Number(marker[0]), lng: Number(marker[1])}
              });

              var locationLatLng =  new google.maps.LatLng(marker.position.lat(), marker.position.lng());
              bounds.extend(locationLatLng);
              bermudaTriangleCoords.push(locationLatLng);

              google.maps.event.addDomListener(marker, 'click', function() {
                  iwindow.close();
                  iwindow.setContent(marker.template);
                  iwindow.open(map, marker);
              });
          })(locations[i]);
      }

      var bermudaTriangle = new google.maps.Polygon({
          paths: bermudaTriangleCoords,
          strokeColor: '#FF0000',
          strokeOpacity: 0.8,
          strokeWeight: 2,
          fillColor: '#FF0000',
          fillOpacity: 0.35
      });
      bermudaTriangle.setMap(map);

      map.fitBounds(bounds);       // auto-zoom
      map.panToBounds(bounds);     // auto-center

  }


  $(function() {
    $('.google-map').each(function() {
        var locationArr = [];
        var targetEl = $(this).find('.draw-map');
        $(this).children().each(function(index, element){
            //get info window template
            if($(element).hasClass('info-window-template')){
                var _arr = [$(element).data('lat'), $(element).data('lag'), $(element).html()];
                locationArr.push(_arr);
            }
        });

        initMap(targetEl, locationArr);

    });
  });

  </script>
</body>
</html>
